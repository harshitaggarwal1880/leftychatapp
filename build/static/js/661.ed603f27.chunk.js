"use strict";(self.webpackChunkchatapp=self.webpackChunkchatapp||[]).push([[661],{4661:function(n,e,a){a.r(e);var t,r=a(168),s=a(4165),i=a(5861),o=a(9439),c=a(2791),l=a(7689),u=a(6444),d=a(8174),m=(a(5462),a(2388)),p=a(1276),f=a(9778),h=a(184),g=u.ZP.div(t||(t=(0,r.Z)(["\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 3rem;\n    background-color: #131324;\n    height: 100vh;\n    width: 100vw;\n\n    .loader{\n        background: #012;\n        height: 100vh;\n        width: 100vw;\n        display: grid;\n        place-items: center;\n\n        .container {\n            position: relative;\n            width: 200px;\n            height: 200px;\n          }\n          span {\n            position: absolute;\n            display: block;\n            width: 40%;\n            height: 40%;\n            border-radius: 50%;\n            animation: speed 2s infinite ease-in-out;\n          }\n          .one {\n            background: #4285f4;\n            animation-delay: 1.5s;\n          }\n          .two {\n            background: #ea4335;\n            animation-delay: 1s;\n          }\n          .three {\n            background: #fbbc05;\n            animation-delay: 0.5s;\n          }\n          .four {\n            background: #34a853;\n          }\n          @keyframes speed {\n            0% {\n              transform: translate(0%);\n              border-radius: 50%;\n            }\n            25% {\n              transform: translate(150%) scale(0.5);\n              border-radius: 0%;\n            }\n            50% {\n              transform: translate(150%, 150%);\n              border-radius: 50%;\n            }\n            75% {\n              transform: translate(0, 150%) scale(0.5);\n              border-radius: 0%;\n            }\n          }\n          \n    }\n\n\n    .title_container{\n        h1{\n            color: white;\n        }\n    }\n\n    .avatars{\n        display: flex;\n        gap: 2rem;\n\n        .avatar{\n            border: 0.5rem solid transparent;\n            padding: 0.5rem;\n            border-radius: 5rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            transition: 0.3s ease-in-out;\n            img{\n                height: 6rem;\n            }\n        }\n        .avatar:hover{\n            transform scale(1.2);\n        }\n\n        .selected{\n            border: 0.5rem solid #4e0eff;\n        }\n    }\n\n    .submitbtn{\n        background-color: #997af0;\n        color: white;\n        padding: 1rem 2rem;\n        border: none;\n        font-weight: bold;\n        cursor: pointer;\n        border-radius: 0.4rem;\n        font-size: 1rem;\n        text-transform: uppercase;\n        transition: 0.5s ease-in-out;\n        &:hover{\n          background-color: #4e3eff;\n        }\n      }\n\n\n"])));e.default=function(){var n=(0,l.s0)(),e=(0,c.useState)([]),a=(0,o.Z)(e,2),t=a[0],r=a[1],u=(0,c.useState)(!0),v=(0,o.Z)(u,2),b=v[0],x=v[1],k=(0,c.useState)(void 0),j=(0,o.Z)(k,2),w=j[0],y=j[1],Z={position:"bottom-right",autoClose:5e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,c.useEffect)((function(){localStorage.getItem("chat-app-user")||n("/login")}),[]);var N=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var a,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==w){e.next=4;break}d.Am.error("Please select an avatar",Z),e.next=13;break;case 4:return e.next=6,JSON.parse(localStorage.getItem("chat-app-user"));case 6:return a=e.sent,console.log(a),e.next=10,m.Z.post("".concat(p.TC,"/").concat(a._id),{image:t[w]});case 10:r=e.sent,(i=r.data).isSet?(a.isAvatarImageSet=!0,a.avatarImage=i.image,localStorage.setItem("chat-app-user",JSON.stringify(a)),n("/")):(0,d.Am)("Error setting avatar, Please try again",Z);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(){var e,a,t,i;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=[],a=0;case 2:if(!(a<4)){n.next=11;break}return n.next=5,m.Z.get("".concat("https://api.multiavatar.com","/").concat(Math.round(1e4*Math.random())));case 5:t=n.sent,i=new f.lW(t.data),e.push(i.toString("base64"));case 8:a++,n.next=2;break;case 11:r(e),x(!1);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,h.jsxs)(h.Fragment,{children:[b?(0,h.jsx)(g,{children:(0,h.jsx)("div",{className:"loader",children:(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)("span",{className:"one"}),(0,h.jsx)("span",{className:"two"}),(0,h.jsx)("span",{className:"three"}),(0,h.jsx)("span",{className:"four"})]})})}):(0,h.jsxs)(g,{children:[(0,h.jsx)("div",{className:"title_container",children:(0,h.jsx)("h1",{children:"Pick an avatar as your Profile picture"})}),(0,h.jsx)("div",{className:"avatars",children:t.map((function(n,e){return(0,h.jsx)("div",{className:"avatar ".concat(w===e?"selected":""),children:(0,h.jsx)("img",{src:"data:image/svg+xml;base64,".concat(n),alt:"avatar",onClick:function(){y(e)}})},e)}))}),(0,h.jsxs)("button",{className:"submitbtn",onClick:N,children:[" ","Set as Profile Picture"]})]}),(0,h.jsx)(d.Ix,{})]})}},1276:function(n,e,a){a.d(e,{JC:function(){return c},TC:function(){return i},VU:function(){return s},X0:function(){return r},ho:function(){return t},pK:function(){return o},qr:function(){return l}});var t="http://localhost:5000",r="".concat(t,"/api/register"),s="".concat(t,"/api/login"),i="".concat(t,"/api/setavatar"),o="".concat(t,"/api/allusers"),c="".concat(t,"/message/addmsg"),l="".concat(t,"/message/getallmsg")}}]);
//# sourceMappingURL=661.ed603f27.chunk.js.map